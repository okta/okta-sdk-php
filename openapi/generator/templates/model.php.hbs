<?php
{{> copyright }}

namespace Okta\\{{this.tags.[0]}};

class {{this.modelName}} extends {{modelExtends this}}
{
    {{!- Property Mappings -}}
    {{#if this.properties}}
    {{#each this.properties}}
    const {{upperSnakeCase propertyName}} = '{{propertyName}}';
    {{/each}}

    {{/if}}
    {{!- Enum Mapping -}}
    {{#if this.enum}}
    {{#each this.enum}}
    const {{upperSnakeCase this}} = '{{this}}';
    {{/each}}

    {{/if}}
    {{!- Resolution Strategy -}}
    {{#if this.requiresResolution}}
    protected $requiresResolution = {{this.requiresResolution}};
    protected $resolutionPropertyName = "{{this.resolutionStrategy.propertyName}}";
    protected $resolutionMapping = [
    {{#each this.resolutionStrategy.valueToModelMapping}}
        "{{@key}}" => {{ buildFullClassnameFromPropertyRef this }}::class,
    {{/each}}
    ];

    {{/if}}
    {{!- Default Property Setting -}}
    {{#if this.properties}}
    {{#each this.properties}}
    {{#if this.default}}
    private ${{propertyName}} = '{{default}}';
    {{/if}}
    {{/each}}

    {{/if}}
    {{#unless this.resolutionStrategy}}
    {{!- Property Setters -}}
    {{#each (modelProperties this)}}
    {{#unless readOnly}}
    {{#if ( eq this.commonType "dateTime" ) }}
    {{> function_setDateTimeProperty property=this modelName=../modelName}}
    {{else if ( isEnumProperty this ) }}
    {{> function_setEnumProperty property=this modelName=../modelName}}
    {{else if ( and ( eq this.commonType "object" ) this.$ref ) }}
    {{> function_setResourceProperty property=this modelName=../modelName}}
    {{else}}
    {{> function_setProperty property=this modelName=../modelName}}
    {{/if}}

    {{/unless}}
    {{/each}}
    {{!- Property Getters -}}
    {{#each  (modelProperties this)}}
    {{#if ( eq this.commonType "dateTime" ) }}
    {{> function_getDateTimeProperty property=this modelName=../modelName}}
    {{else if ( isEnumProperty this ) }}
    {{> function_getEnumProperty property=this modelName=../modelName}}
    {{else if ( and ( eq this.commonType "object" ) this.$ref ) }}
    {{> function_getResourceProperty property=this modelName=../modelName}}
    {{else}}
    {{> function_getProperty property=this modelName=../modelName}}
    {{/if}}

    {{/each}}
    {{/unless}}

}